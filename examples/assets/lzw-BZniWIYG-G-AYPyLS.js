import{B as E}from"./geotiff-o_Fq1Na4-BF3vnE6x.js";import"./preload-helper-PPVm8Dsz.js";import"./maplibre-control-grid-5XyJv1vP.js";import"./modulepreload-polyfill-B5Qt9EMX.js";/* empty css               */import"./maplibre-gl-C9tqRo8a.js";import"./_commonjsHelpers-Cpj98o6Y.js";import"./maplibre-gl-layer-control-CbPNLzzp.js";const A=9,w=256,x=257,b=12;function B(i,r,o){const f=r%8,n=Math.floor(r/8),p=8-f,d=r+o-(n+1)*8;let u=8*(n+2)-(r+o);const m=(n+2)*8-r;if(u=Math.max(0,u),n>=i.length)return console.warn("ran off the end of the buffer before finding EOI_CODE (end on input code)"),x;let a=i[n]&2**(8-f)-1;a<<=o-p;let s=a;if(n+1<i.length){let l=i[n+1]>>>u;l<<=Math.max(0,o-m),s+=l}if(d>8&&n+2<i.length){const l=(n+3)*8-(r+o),e=i[n+2]>>>l;s+=e}return s}function y(i,r){for(let o=r.length-1;o>=0;o--)i.push(r[o]);return i}function U(i){const r=new Uint16Array(4093),o=new Uint8Array(4093);for(let t=0;t<=257;t++)r[t]=4096,o[t]=t;let f=258,n=A,p=0;function d(){f=258,n=A}function u(t){const h=B(t,p,n);return p+=n,h}function m(t,h){return o[f]=h,r[f]=t,f++,f-1}function a(t){const h=[];for(let g=t;g!==4096;g=r[g])h.push(o[g]);return h}const s=[];d();const l=new Uint8Array(i);let e=u(l),c;for(;e!==x;){if(e===w){for(d(),e=u(l);e===w;)e=u(l);if(e===x)break;if(e>w)throw new Error(`corrupted code at scanline ${e}`);{const t=a(e);y(s,t),c=e}}else if(e<f){const t=a(e);y(s,t),m(c,t[t.length-1]),c=e}else{const t=a(c);if(!t)throw new Error(`Bogus entry. Not in dictionary, ${c} / ${f}, position: ${p}`);y(s,t),s.push(t[t.length-1]),m(c,t[t.length-1]),c=e}f+1>=2**n&&(n===b?c=void 0:n++),e=u(l)}return new Uint8Array(s)}class N extends E{decodeBlock(r){return U(r).buffer}}export{N as default};
