import{V as P,i as U,h as b,j as y,a2 as v,a3 as _,a4 as j,a5 as K,a6 as w,a7 as G,a8 as H,k as J,a9 as q,aa as N,ab as S,ac as D,ad as I,ae as V,u as tt,af as W,ag as st,ah as nt,ai as et,aj as it,ak as rt,al as ct,am as ht,an as ot,ao as at}from"./mapbox-overlay-dETm6WBN.js";let x;class $ extends P{static get ZERO(){return x||(x=new $(0,0,0,0),Object.freeze(x)),x}constructor(t=0,n=0,e=0,i=0){super(-0,-0,-0,-0),U(t)&&arguments.length===1?this.copy(t):(b.debug&&(y(t),y(n),y(e),y(i)),this[0]=t,this[1]=n,this[2]=e,this[3]=i)}set(t,n,e,i){return this[0]=t,this[1]=n,this[2]=e,this[3]=i,this.check()}copy(t){return this[0]=t[0],this[1]=t[1],this[2]=t[2],this[3]=t[3],this.check()}fromObject(t){return b.debug&&(y(t.x),y(t.y),y(t.z),y(t.w)),this[0]=t.x,this[1]=t.y,this[2]=t.z,this[3]=t.w,this}toObject(t){return t.x=this[0],t.y=this[1],t.z=this[2],t.w=this[3],t}get ELEMENTS(){return 4}get z(){return this[2]}set z(t){this[2]=y(t)}get w(){return this[3]}set w(t){this[3]=y(t)}transform(t){return v(this,this,t),this.check()}transformByMatrix3(t){return _(this,this,t),this.check()}transformByMatrix2(t){return j(this,this,t),this.check()}transformByQuaternion(t){return K(this,this,t),this.check()}applyMatrix4(t){return t.transform(this,this),this}}function lt(){const s=new w(9);return w!=Float32Array&&(s[1]=0,s[2]=0,s[3]=0,s[5]=0,s[6]=0,s[7]=0),s[0]=1,s[4]=1,s[8]=1,s}function ft(s,t){if(s===t){const n=t[1],e=t[2],i=t[5];s[1]=t[3],s[2]=t[6],s[3]=n,s[5]=t[7],s[6]=e,s[7]=i}else s[0]=t[0],s[1]=t[3],s[2]=t[6],s[3]=t[1],s[4]=t[4],s[5]=t[7],s[6]=t[2],s[7]=t[5],s[8]=t[8];return s}function Ot(s,t){const n=t[0],e=t[1],i=t[2],c=t[3],r=t[4],h=t[5],o=t[6],a=t[7],O=t[8],g=O*r-h*a,l=-O*c+h*o,k=a*c-r*o;let f=n*g+e*l+i*k;return f?(f=1/f,s[0]=g*f,s[1]=(-O*e+i*a)*f,s[2]=(h*e-i*r)*f,s[3]=l*f,s[4]=(O*n-i*o)*f,s[5]=(-h*n+i*c)*f,s[6]=k*f,s[7]=(-a*n+e*o)*f,s[8]=(r*n-e*c)*f,s):null}function kt(s){const t=s[0],n=s[1],e=s[2],i=s[3],c=s[4],r=s[5],h=s[6],o=s[7],a=s[8];return t*(a*c-r*o)+n*(-a*i+r*h)+e*(o*i-c*h)}function Q(s,t,n){const e=t[0],i=t[1],c=t[2],r=t[3],h=t[4],o=t[5],a=t[6],O=t[7],g=t[8],l=n[0],k=n[1],f=n[2],u=n[3],M=n[4],m=n[5],A=n[6],L=n[7],d=n[8];return s[0]=l*e+k*r+f*a,s[1]=l*i+k*h+f*O,s[2]=l*c+k*o+f*g,s[3]=u*e+M*r+m*a,s[4]=u*i+M*h+m*O,s[5]=u*c+M*o+m*g,s[6]=A*e+L*r+d*a,s[7]=A*i+L*h+d*O,s[8]=A*c+L*o+d*g,s}function gt(s,t,n){const e=t[0],i=t[1],c=t[2],r=t[3],h=t[4],o=t[5],a=t[6],O=t[7],g=t[8],l=n[0],k=n[1];return s[0]=e,s[1]=i,s[2]=c,s[3]=r,s[4]=h,s[5]=o,s[6]=l*e+k*r+a,s[7]=l*i+k*h+O,s[8]=l*c+k*o+g,s}function yt(s,t,n){const e=t[0],i=t[1],c=t[2],r=t[3],h=t[4],o=t[5],a=t[6],O=t[7],g=t[8],l=Math.sin(n),k=Math.cos(n);return s[0]=k*e+l*r,s[1]=k*i+l*h,s[2]=k*c+l*o,s[3]=k*r-l*e,s[4]=k*h-l*i,s[5]=k*o-l*c,s[6]=a,s[7]=O,s[8]=g,s}function Y(s,t,n){const e=n[0],i=n[1];return s[0]=e*t[0],s[1]=e*t[1],s[2]=e*t[2],s[3]=i*t[3],s[4]=i*t[4],s[5]=i*t[5],s[6]=t[6],s[7]=t[7],s[8]=t[8],s}function ut(s,t){const n=t[0],e=t[1],i=t[2],c=t[3],r=n+n,h=e+e,o=i+i,a=n*r,O=e*r,g=e*h,l=i*r,k=i*h,f=i*o,u=c*r,M=c*h,m=c*o;return s[0]=1-g-f,s[3]=O-m,s[6]=l+M,s[1]=O+m,s[4]=1-a-f,s[7]=k-u,s[2]=l-M,s[5]=k+u,s[8]=1-a-g,s}var T;(function(s){s[s.COL0ROW0=0]="COL0ROW0",s[s.COL0ROW1=1]="COL0ROW1",s[s.COL0ROW2=2]="COL0ROW2",s[s.COL1ROW0=3]="COL1ROW0",s[s.COL1ROW1=4]="COL1ROW1",s[s.COL1ROW2=5]="COL1ROW2",s[s.COL2ROW0=6]="COL2ROW0",s[s.COL2ROW1=7]="COL2ROW1",s[s.COL2ROW2=8]="COL2ROW2"})(T||(T={}));const Mt=Object.freeze([1,0,0,0,1,0,0,0,1]);class X extends G{static get IDENTITY(){return xt()}static get ZERO(){return mt()}get ELEMENTS(){return 9}get RANK(){return 3}get INDICES(){return T}constructor(t,...n){super(-0,-0,-0,-0,-0,-0,-0,-0,-0),arguments.length===1&&Array.isArray(t)?this.copy(t):n.length>0?this.copy([t,...n]):this.identity()}copy(t){return this[0]=t[0],this[1]=t[1],this[2]=t[2],this[3]=t[3],this[4]=t[4],this[5]=t[5],this[6]=t[6],this[7]=t[7],this[8]=t[8],this.check()}identity(){return this.copy(Mt)}fromObject(t){return this.check()}fromQuaternion(t){return ut(this,t),this.check()}set(t,n,e,i,c,r,h,o,a){return this[0]=t,this[1]=n,this[2]=e,this[3]=i,this[4]=c,this[5]=r,this[6]=h,this[7]=o,this[8]=a,this.check()}setRowMajor(t,n,e,i,c,r,h,o,a){return this[0]=t,this[1]=i,this[2]=h,this[3]=n,this[4]=c,this[5]=o,this[6]=e,this[7]=r,this[8]=a,this.check()}determinant(){return kt(this)}transpose(){return ft(this,this),this.check()}invert(){return Ot(this,this),this.check()}multiplyLeft(t){return Q(this,t,this),this.check()}multiplyRight(t){return Q(this,this,t),this.check()}rotate(t){return yt(this,this,t),this.check()}scale(t){return Array.isArray(t)?Y(this,this,t):Y(this,this,[t,t]),this.check()}translate(t){return gt(this,this,t),this.check()}transform(t,n){let e;switch(t.length){case 2:e=J(n||[-0,-0],t,this);break;case 3:e=H(n||[-0,-0,-0],t,this);break;case 4:e=_(n||[-0,-0,-0,-0],t,this);break;default:throw new Error("Illegal vector")}return q(e,t.length),e}transformVector(t,n){return this.transform(t,n)}transformVector2(t,n){return this.transform(t,n)}transformVector3(t,n){return this.transform(t,n)}}let R,p=null;function mt(){return R||(R=new X([0,0,0,0,0,0,0,0,0]),Object.freeze(R)),R}function xt(){return p||(p=new X,Object.freeze(p)),p}function Z(){const s=new w(4);return w!=Float32Array&&(s[0]=0,s[1]=0,s[2]=0),s[3]=1,s}function Rt(s){return s[0]=0,s[1]=0,s[2]=0,s[3]=1,s}function B(s,t,n){n=n*.5;const e=Math.sin(n);return s[0]=e*t[0],s[1]=e*t[1],s[2]=e*t[2],s[3]=Math.cos(n),s}function E(s,t,n){const e=t[0],i=t[1],c=t[2],r=t[3],h=n[0],o=n[1],a=n[2],O=n[3];return s[0]=e*O+r*h+i*a-c*o,s[1]=i*O+r*o+c*h-e*a,s[2]=c*O+r*a+e*o-i*h,s[3]=r*O-e*h-i*o-c*a,s}function pt(s,t,n){n*=.5;const e=t[0],i=t[1],c=t[2],r=t[3],h=Math.sin(n),o=Math.cos(n);return s[0]=e*o+r*h,s[1]=i*o+c*h,s[2]=c*o-i*h,s[3]=r*o-e*h,s}function zt(s,t,n){n*=.5;const e=t[0],i=t[1],c=t[2],r=t[3],h=Math.sin(n),o=Math.cos(n);return s[0]=e*o-c*h,s[1]=i*o+r*h,s[2]=c*o+e*h,s[3]=r*o-i*h,s}function wt(s,t,n){n*=.5;const e=t[0],i=t[1],c=t[2],r=t[3],h=Math.sin(n),o=Math.cos(n);return s[0]=e*o+i*h,s[1]=i*o-e*h,s[2]=c*o+r*h,s[3]=r*o-c*h,s}function At(s,t){const n=t[0],e=t[1],i=t[2];return s[0]=n,s[1]=e,s[2]=i,s[3]=Math.sqrt(Math.abs(1-n*n-e*e-i*i)),s}function z(s,t,n,e){const i=t[0],c=t[1],r=t[2],h=t[3];let o=n[0],a=n[1],O=n[2],g=n[3],l,k,f,u,M;return l=i*o+c*a+r*O+h*g,l<0&&(l=-l,o=-o,a=-a,O=-O,g=-g),1-l>ht?(k=Math.acos(l),M=Math.sin(k),f=Math.sin((1-e)*k)/M,u=Math.sin(e*k)/M):(f=1-e,u=e),s[0]=f*i+u*o,s[1]=f*c+u*a,s[2]=f*r+u*O,s[3]=f*h+u*g,s}function Lt(s,t){const n=t[0],e=t[1],i=t[2],c=t[3],r=n*n+e*e+i*i+c*c,h=r?1/r:0;return s[0]=-n*h,s[1]=-e*h,s[2]=-i*h,s[3]=c*h,s}function dt(s,t){return s[0]=-t[0],s[1]=-t[1],s[2]=-t[2],s[3]=t[3],s}function C(s,t){const n=t[0]+t[4]+t[8];let e;if(n>0)e=Math.sqrt(n+1),s[3]=.5*e,e=.5/e,s[0]=(t[5]-t[7])*e,s[1]=(t[6]-t[2])*e,s[2]=(t[1]-t[3])*e;else{let i=0;t[4]>t[0]&&(i=1),t[8]>t[i*3+i]&&(i=2);const c=(i+1)%3,r=(i+2)%3;e=Math.sqrt(t[i*3+i]-t[c*3+c]-t[r*3+r]+1),s[i]=.5*e,e=.5/e,s[3]=(t[c*3+r]-t[r*3+c])*e,s[c]=(t[c*3+i]+t[i*3+c])*e,s[r]=(t[r*3+i]+t[i*3+r])*e}return s}const Wt=et,Tt=rt,$t=D,bt=it,Vt=N,Qt=S,F=ct,Yt=(function(){const s=I(),t=V(1,0,0),n=V(0,1,0);return function(e,i,c){const r=tt(i,c);return r<-.999999?(W(s,t,i),st(s)<1e-6&&W(s,n,i),nt(s,s),B(e,s,Math.PI),e):r>.999999?(e[0]=0,e[1]=0,e[2]=0,e[3]=1,e):(W(s,i,c),e[0]=s[0],e[1]=s[1],e[2]=s[2],e[3]=1+r,F(e,e))}})();(function(){const s=Z(),t=Z();return function(n,e,i,c,r,h){return z(s,e,r,h),z(t,i,c,h),z(n,s,t,2*h*(1-h)),n}})();(function(){const s=lt();return function(t,n,e,i){return s[0]=e[0],s[3]=e[1],s[6]=e[2],s[1]=i[0],s[4]=i[1],s[7]=i[2],s[2]=-n[0],s[5]=-n[1],s[8]=-n[2],F(t,C(t,s))}})();const Zt=[0,0,0,1];class _t extends ot{constructor(t=0,n=0,e=0,i=1){super(-0,-0,-0,-0),Array.isArray(t)&&arguments.length===1?this.copy(t):this.set(t,n,e,i)}copy(t){return this[0]=t[0],this[1]=t[1],this[2]=t[2],this[3]=t[3],this.check()}set(t,n,e,i){return this[0]=t,this[1]=n,this[2]=e,this[3]=i,this.check()}fromObject(t){return this[0]=t.x,this[1]=t.y,this[2]=t.z,this[3]=t.w,this.check()}fromMatrix3(t){return C(this,t),this.check()}fromAxisRotation(t,n){return B(this,t,n),this.check()}identity(){return Rt(this),this.check()}setAxisAngle(t,n){return this.fromAxisRotation(t,n)}get ELEMENTS(){return 4}get x(){return this[0]}set x(t){this[0]=y(t)}get y(){return this[1]}set y(t){this[1]=y(t)}get z(){return this[2]}set z(t){this[2]=y(t)}get w(){return this[3]}set w(t){this[3]=y(t)}len(){return Vt(this)}lengthSquared(){return Qt(this)}dot(t){return $t(this,t)}rotationTo(t,n){return Yt(this,t,n),this.check()}add(t){return Wt(this,this,t),this.check()}calculateW(){return At(this,this),this.check()}conjugate(){return dt(this,this),this.check()}invert(){return Lt(this,this),this.check()}lerp(t,n,e){return e===void 0?this.lerp(this,t,n):(bt(this,t,n,e),this.check())}multiplyRight(t){return E(this,this,t),this.check()}multiplyLeft(t){return E(this,t,this),this.check()}normalize(){const t=this.len(),n=t>0?1/t:0;return this[0]=this[0]*n,this[1]=this[1]*n,this[2]=this[2]*n,this[3]=this[3]*n,t===0&&(this[3]=1),this.check()}rotateX(t){return pt(this,this,t),this.check()}rotateY(t){return zt(this,this,t),this.check()}rotateZ(t){return wt(this,this,t),this.check()}scale(t){return Tt(this,this,t),this.check()}slerp(t,n,e){let i,c,r;switch(arguments.length){case 1:({start:i=Zt,target:c,ratio:r}=t);break;case 2:i=this,c=t,r=n;break;default:i=t,c=n,r=e}return z(this,i,c,r),this.check()}transformVector4(t,n=new $){return at(n,t,this),q(n,4)}lengthSq(){return this.lengthSquared()}setFromAxisAngle(t,n){return this.setAxisAngle(t,n)}premultiply(t){return this.multiplyLeft(t)}multiply(t){return this.multiplyRight(t)}}export{X as M,_t as Q};
