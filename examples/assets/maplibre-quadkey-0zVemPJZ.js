import"./modulepreload-polyfill-B5Qt9EMX.js";/* empty css               */import{h as p}from"./maplibre-gl-BZpgQJIL.js";import{L}from"./maplibre-gl-layer-control-BGT4Bb5x.js";import{D as h}from"./DeckLayerAdapter-kz44PQGX.js";import{w as g,M as q}from"./mapbox-overlay-CjL5nCza.js";import{G as w}from"./GeoCellLayer-BEL9dw2G.js";import"./_commonjsHelpers-Cpj98o6Y.js";import"./preload-helper-PPVm8Dsz.js";import"./composite-layer-dQcQCi_n.js";import"./polygon-layer-DvLHhwoC.js";import"./solid-polygon-layer-DvkMDu8v.js";import"./polygon-utils-B8iYQ3Og.js";import"./cut-by-mercator-bounds-BgqYccvj.js";import"./picking-CN0D5Hbh.js";import"./gouraud-material-DpEoe11x.js";import"./lighting-Vr4zHQkI.js";import"./phong-shaders-wgsl-3FV41e28.js";import"./geometry-U_tfiUzx.js";import"./path-layer-BtOBY6v6.js";import"./utils-2CUC2toc.js";const i=512;function C(e,n){let t=0,l=0,o=1<<e.length;const a=o/i;for(let r=0;r<e.length;r++){o>>=1;const s=parseInt(e[r]);s%2&&(t|=o),s>1&&(l|=o)}return[[t/a,i-l/a],[(t+n)/a,i-(l+n)/a]]}function x(e,n=1){const[t,l]=C(e,n),[o,a]=g(t),[r,s]=g(l);return[r,a,r,s,o,s,o,a,r,a]}const I={getQuadkey:{type:"accessor",value:e=>e.quadkey}};class y extends w{indexToBounds(){const{data:n,extruded:t,getQuadkey:l}=this.props,o=t?.99:1;return{data:n,_normalize:!1,positionFormat:"XY",getPolygon:(a,r)=>x(l(a,r),o),updateTriggers:{getPolygon:o}}}}y.layerName="QuadkeyLayer";y.defaultProps=I;const Q=[{quadkey:"0230102",value:150},{quadkey:"0230103",value:200},{quadkey:"0230110",value:180},{quadkey:"0230111",value:250},{quadkey:"0230120",value:300},{quadkey:"0230121",value:220},{quadkey:"0230122",value:190},{quadkey:"0230123",value:280}],d=new p.Map({container:"map",style:"https://basemaps.cartocdn.com/gl/dark-matter-gl-style/style.json",center:[-122.4,37.75],zoom:6,pitch:45});d.addControl(new p.NavigationControl,"top-right");d.addControl(new p.ScaleControl({unit:"metric"}),"bottom-right");const c=new q({layers:[]}),m=new Map,k=new h(d,c,m);let v=50;function E(){c.setProps({layers:Array.from(m.values())})}function f(){const e="quadkey-layer",n=new y({id:e,data:Q,getQuadkey:t=>t.quadkey,getFillColor:[255,140,0,180],getElevation:t=>t.value,extruded:!0,elevationScale:v,pickable:!0});m.set(e,n),E(),k.notifyLayerAdded(e)}const u=document.getElementById("elevation"),P=document.getElementById("elevationValue");u?.addEventListener("input",()=>{v=parseInt(u.value,10),P.textContent=u.value,f()});d.on("load",()=>{d.addControl(c);const e=new L({collapsed:!0,customLayerAdapters:[k],panelWidth:360});d.addControl(e,"top-right"),f()});
