import"./modulepreload-polyfill-B5Qt9EMX.js";/* empty css               */import{h as L}from"./maplibre-gl-C9tqRo8a.js";import{L as B}from"./maplibre-gl-layer-control-CbPNLzzp.js";import{D as U}from"./DeckLayerAdapter-kz44PQGX.js";import{u as j,M as W}from"./mapbox-overlay-CjL5nCza.js";import{G as X}from"./geometry-U_tfiUzx.js";import{S as _}from"./simple-mesh-layer--qQN02Yh.js";import"./_commonjsHelpers-Cpj98o6Y.js";import"./preload-helper-PPVm8Dsz.js";import"./matrix-KSzFoGrH.js";import"./picking-CN0D5Hbh.js";import"./phong-material-bZBFcj6W.js";import"./lighting-Vr4zHQkI.js";import"./phong-shaders-wgsl-3FV41e28.js";class q extends X{constructor(e={}){const{id:n=j("sphere-geometry")}=e,{indices:w,attributes:A}=H(e);super({...e,id:n,topology:"triangle-list",indices:w,attributes:{...A,...e.attributes}})}}function H(r){const{nlat:e=10,nlong:n=10}=r,D=Math.PI-0,E=2*Math.PI-0,d=(e+1)*(n+1),R=(t,o,s,y,h)=>r.radius||1,m=new Float32Array(d*3),p=new Float32Array(d*3),u=new Float32Array(d*2),V=d>65535?Uint32Array:Uint16Array,a=new V(e*n*6);for(let t=0;t<=e;t++)for(let o=0;o<=n;o++){const s=o/n,y=t/e,h=o+t*(n+1),C=h*2,c=h*3,x=E*s,b=D*y,F=Math.sin(x),G=Math.cos(x),I=Math.sin(b),N=Math.cos(b),S=G*I,O=N,z=F*I,g=R();m[c+0]=g*S,m[c+1]=g*O,m[c+2]=g*z,p[c+0]=S,p[c+1]=O,p[c+2]=z,u[C+0]=s,u[C+1]=1-y}const i=n+1;for(let t=0;t<n;t++)for(let o=0;o<e;o++){const s=(t*e+o)*6;a[s+0]=o*i+t,a[s+1]=o*i+t+1,a[s+2]=(o+1)*i+t,a[s+3]=(o+1)*i+t,a[s+4]=o*i+t+1,a[s+5]=(o+1)*i+t+1}return{indices:{size:1,value:a},attributes:{POSITION:{size:3,value:m},NORMAL:{size:3,value:p},TEXCOORD_0:{size:2,value:u}}}}const J=[{position:[-122.4,37.8],color:[255,140,0,255]},{position:[-122.38,37.79],color:[0,200,255,255]},{position:[-122.42,37.78],color:[255,100,100,255]},{position:[-122.39,37.81],color:[100,255,100,255]},{position:[-122.41,37.77],color:[200,100,255,255]}],l=new L.Map({container:"map",style:"https://basemaps.cartocdn.com/gl/dark-matter-gl-style/style.json",center:[-122.4,37.79],zoom:13,pitch:60,bearing:-17});l.addControl(new L.NavigationControl,"top-right");l.addControl(new L.ScaleControl({unit:"metric"}),"bottom-right");const v=new W({layers:[]}),M=new Map,P=new U(l,v,M);let k=1e3;const K=new q({radius:1,nlat:16,nlong:16});function Q(){v.setProps({layers:Array.from(M.values())})}function T(){const r="simplemesh-spheres",e=new _({id:r,data:J,mesh:K,getPosition:n=>n.position,getColor:n=>n.color,sizeScale:k,pickable:!0});M.set(r,e),Q(),P.notifyLayerAdded(r)}const f=document.getElementById("scale"),Y=document.getElementById("scaleValue");f?.addEventListener("input",()=>{k=parseInt(f.value,10),Y.textContent=f.value,T()});l.on("load",()=>{l.addControl(v);const r=new B({collapsed:!0,customLayerAdapters:[P],panelWidth:360});l.addControl(r,"top-right"),T()});
