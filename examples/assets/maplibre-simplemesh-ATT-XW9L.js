import"./modulepreload-polyfill-B5Qt9EMX.js";/* empty css               */import{m as L}from"./maplibre-gl-BTjYUjN0.js";import{L as B}from"./maplibre-gl-layer-control-CsWFEept.js";import{D as U}from"./DeckLayerAdapter-BLDh1d-e.js";import{K as j,M as K}from"./mapbox-overlay-CtMyNbGZ.js";import{G as W}from"./geometry-CwO1uo58.js";import{S as X}from"./simple-mesh-layer-DMpXXWYs.js";import"./_commonjsHelpers-Cpj98o6Y.js";import"./matrix-Dj0fRW-l.js";import"./picking-CN0D5Hbh.js";import"./phong-material-BoTCu5o1.js";import"./lighting-p30x1bFT.js";import"./phong-shaders-wgsl-3FV41e28.js";class _ extends W{constructor(e={}){const{id:n=j("sphere-geometry")}=e,{indices:w,attributes:A}=q(e);super({...e,id:n,topology:"triangle-list",indices:w,attributes:{...A,...e.attributes}})}}function q(r){const{nlat:e=10,nlong:n=10}=r,D=Math.PI-0,E=2*Math.PI-0,m=(e+1)*(n+1),R=(t,o,s,h,g)=>r.radius||1,p=new Float32Array(m*3),u=new Float32Array(m*3),y=new Float32Array(m*2),V=m>65535?Uint32Array:Uint16Array,a=new V(e*n*6);for(let t=0;t<=e;t++)for(let o=0;o<=n;o++){const s=o/n,h=t/e,g=o+t*(n+1),C=g*2,c=g*3,x=E*s,b=D*h,F=Math.sin(x),G=Math.cos(x),I=Math.sin(b),N=Math.cos(b),O=G*I,z=N,P=F*I,f=R();p[c+0]=f*O,p[c+1]=f*z,p[c+2]=f*P,u[c+0]=O,u[c+1]=z,u[c+2]=P,y[C+0]=s,y[C+1]=1-h}const i=n+1;for(let t=0;t<n;t++)for(let o=0;o<e;o++){const s=(t*e+o)*6;a[s+0]=o*i+t,a[s+1]=o*i+t+1,a[s+2]=(o+1)*i+t,a[s+3]=(o+1)*i+t,a[s+4]=o*i+t+1,a[s+5]=(o+1)*i+t+1}return{indices:{size:1,value:a},attributes:{POSITION:{size:3,value:p},NORMAL:{size:3,value:u},TEXCOORD_0:{size:2,value:y}}}}const H=[{position:[-122.4,37.8],color:[255,140,0,255]},{position:[-122.38,37.79],color:[0,200,255,255]},{position:[-122.42,37.78],color:[255,100,100,255]},{position:[-122.39,37.81],color:[100,255,100,255]},{position:[-122.41,37.77],color:[200,100,255,255]}],l=new L.Map({container:"map",style:"https://basemaps.cartocdn.com/gl/dark-matter-gl-style/style.json",center:[-122.4,37.79],zoom:13,pitch:60,bearing:-17});l.addControl(new L.NavigationControl,"top-right");l.addControl(new L.ScaleControl({unit:"metric"}),"bottom-right");const v=new K({layers:[]}),M=new Map,S=new U(l,v,M);let k=1e3;const J=new _({radius:1,nlat:16,nlong:16});function Q(){v.setProps({layers:Array.from(M.values())})}function T(){const r="simplemesh-spheres",e=new X({id:r,data:H,mesh:J,getPosition:n=>n.position,getColor:n=>n.color,sizeScale:k,pickable:!0});M.set(r,e),Q(),S.notifyLayerAdded(r)}const d=document.getElementById("scale"),Y=document.getElementById("scaleValue");d==null||d.addEventListener("input",()=>{k=parseInt(d.value,10),Y.textContent=d.value,T()});l.on("load",()=>{l.addControl(v);const r=new B({collapsed:!0,customLayerAdapters:[S],panelWidth:360});l.addControl(r,"top-right"),T()});
