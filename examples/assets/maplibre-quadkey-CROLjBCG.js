import"./modulepreload-polyfill-B5Qt9EMX.js";/* empty css               */import{m as p}from"./maplibre-gl-DRLNSq4X.js";import{L}from"./maplibre-gl-layer-control-BGT4Bb5x.js";import{D as q}from"./DeckLayerAdapter-kz44PQGX.js";import{w as g,M as w}from"./mapbox-overlay-dETm6WBN.js";import{G as C}from"./GeoCellLayer-Cvf5_ryY.js";import"./_commonjsHelpers-CqkleIqs.js";import"./composite-layer-DS4VCTQb.js";import"./polygon-layer-CdwcNaab.js";import"./solid-polygon-layer-CCjjhQ5A.js";import"./polygon-utils-B8iYQ3Og.js";import"./cut-by-mercator-bounds-jPAie1s4.js";import"./picking-CN0D5Hbh.js";import"./gouraud-material-Dz7aR_BC.js";import"./lighting-Cn2RfB9N.js";import"./phong-shaders-wgsl-3FV41e28.js";import"./geometry-C3q6ySK1.js";import"./path-layer-DTwYw0k6.js";import"./utils-2CUC2toc.js";const i=512;function h(e,n){let t=0,l=0,o=1<<e.length;const a=o/i;for(let r=0;r<e.length;r++){o>>=1;const s=parseInt(e[r]);s%2&&(t|=o),s>1&&(l|=o)}return[[t/a,i-l/a],[(t+n)/a,i-(l+n)/a]]}function x(e,n=1){const[t,l]=h(e,n),[o,a]=g(t),[r,s]=g(l);return[r,a,r,s,o,s,o,a,r,a]}const I={getQuadkey:{type:"accessor",value:e=>e.quadkey}};class y extends C{indexToBounds(){const{data:n,extruded:t,getQuadkey:l}=this.props,o=t?.99:1;return{data:n,_normalize:!1,positionFormat:"XY",getPolygon:(a,r)=>x(l(a,r),o),updateTriggers:{getPolygon:o}}}}y.layerName="QuadkeyLayer";y.defaultProps=I;const Q=[{quadkey:"0230102",value:150},{quadkey:"0230103",value:200},{quadkey:"0230110",value:180},{quadkey:"0230111",value:250},{quadkey:"0230120",value:300},{quadkey:"0230121",value:220},{quadkey:"0230122",value:190},{quadkey:"0230123",value:280}],d=new p.Map({container:"map",style:"https://basemaps.cartocdn.com/gl/dark-matter-gl-style/style.json",center:[-122.4,37.75],zoom:6,pitch:45});d.addControl(new p.NavigationControl,"top-right");d.addControl(new p.ScaleControl({unit:"metric"}),"bottom-right");const m=new w({layers:[]}),c=new Map,k=new q(d,m,c);let v=50;function b(){m.setProps({layers:Array.from(c.values())})}function f(){const e="quadkey-layer",n=new y({id:e,data:Q,getQuadkey:t=>t.quadkey,getFillColor:[255,140,0,180],getElevation:t=>t.value,extruded:!0,elevationScale:v,pickable:!0});c.set(e,n),b(),k.notifyLayerAdded(e)}const u=document.getElementById("elevation"),E=document.getElementById("elevationValue");u?.addEventListener("input",()=>{v=parseInt(u.value,10),E.textContent=u.value,f()});d.on("load",()=>{d.addControl(m);const e=new L({collapsed:!0,customLayerAdapters:[k],panelWidth:360});d.addControl(e,"top-right"),f()});
