import"./modulepreload-polyfill-B5Qt9EMX.js";/* empty css               */import{h as i}from"./maplibre-gl-C9tqRo8a.js";import{L as b}from"./maplibre-gl-layer-control-CbPNLzzp.js";import{D as H}from"./DeckLayerAdapter-kz44PQGX.js";import{c as I,M as S}from"./mapbox-overlay-B3MFwkdI.js";import{H as w,c as A,n as k}from"./h3-hexagon-layer-1Zxu7Dhv.js";import{G as E}from"./GeoCellLayer-YEjGbGK3.js";import"./_commonjsHelpers-Cpj98o6Y.js";import"./preload-helper-PPVm8Dsz.js";import"./composite-layer-CqqfW37O.js";import"./polygon-layer-Dx9tL-Ge.js";import"./solid-polygon-layer-B9GT7vH1.js";import"./polygon-utils-B8iYQ3Og.js";import"./cut-by-mercator-bounds-BIiGNyZq.js";import"./picking-CN0D5Hbh.js";import"./gouraud-material-DQO3ZmEl.js";import"./lighting-DGLKbg-X.js";import"./phong-shaders-wgsl-3FV41e28.js";import"./geometry-BcGx-jYG.js";import"./path-layer-DtS7etqG.js";import"./utils-2CUC2toc.js";import"./column-layer-Bexm3zem.js";import"./phong-material-B3sVKYdZ.js";const P={getHexagons:{type:"accessor",value:t=>t.hexagons}};class d extends E{initializeState(){w._checkH3Lib()}updateState({props:a,changeFlags:e}){if(e.dataChanged||e.updateTriggersChanged&&e.updateTriggersChanged.getHexagons){const{data:n,getHexagons:f}=a,r=[],{iterable:L,objectInfo:s}=I(n);for(const g of L){s.index++;const v=f(g,s),C=A(v,!0);for(const m of C){for(const x of m)k(x);r.push(this.getSubLayerRow({polygon:m},g,s.index))}}this.setState({polygons:r})}}indexToBounds(){const{getElevation:a,getFillColor:e,getLineColor:n,getLineWidth:f}=this.props;return{data:this.state.polygons,getPolygon:r=>r.polygon,getElevation:this.getSubLayerAccessor(a),getFillColor:this.getSubLayerAccessor(e),getLineColor:this.getSubLayerAccessor(n),getLineWidth:this.getSubLayerAccessor(f)}}}d.layerName="H3ClusterLayer";d.defaultProps=P;const M=[{hexIds:["852830827ffffff","85283082fffffff","852830877ffffff"],value:150},{hexIds:["8528308a7ffffff","8528308afffffff","8528308b7ffffff"],value:200},{hexIds:["852830957ffffff","85283095fffffff","852830967ffffff"],value:250},{hexIds:["8528309c7ffffff","8528309cfffffff","8528309d7ffffff"],value:180}],o=new i.Map({container:"map",style:"https://basemaps.cartocdn.com/gl/dark-matter-gl-style/style.json",center:[-122.4,37.75],zoom:9,pitch:45});o.addControl(new i.NavigationControl,"top-right");o.addControl(new i.ScaleControl({unit:"metric"}),"bottom-right");const c=new S({layers:[]}),p=new Map,u=new H(o,c,p);let y=20;function T(){c.setProps({layers:Array.from(p.values())})}function h(){const t="h3cluster-layer",a=new d({id:t,data:M,getHexagons:e=>e.hexIds,getFillColor:[255,100,100,180],getElevation:e=>e.value,extruded:!0,elevationScale:y,pickable:!0});p.set(t,a),T(),u.notifyLayerAdded(t)}const l=document.getElementById("elevation"),j=document.getElementById("elevationValue");l?.addEventListener("input",()=>{y=parseInt(l.value,10),j.textContent=l.value,h()});o.on("load",()=>{o.addControl(c);const t=new b({collapsed:!0,customLayerAdapters:[u],panelWidth:360});o.addControl(t,"top-right"),h()});
